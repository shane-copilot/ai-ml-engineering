[
  {
    "id": "scenario_sed_stream_editor_146",
    "command": "sed",
    "scenario": "Master sed stream editor for text substitution and transformation.",
    "problem": "Need to find and replace text in files, edit files in-place, delete lines, insert content, perform complex substitutions with regex, and automate text transformations without opening editors.",
    "solution": "Learn sed syntax for substitution (s/pattern/replacement/), use addresses for line selection, perform in-place editing with -i, understand regex patterns, use hold/pattern space for advanced edits, and create sed scripts for batch transformations.",
    "steps": [
      "USER SAYS: 'How do I quickly find and replace text in files without opening an editor? I need to modify configuration files and process text.'",
      "AGENT: 'Let me show you sed! It's perfect for text substitution and transformation. We'll cover find/replace, in-place editing, and advanced patterns.'",
      "AGENT: ''",
      "AGENT: '🔍 RESEARCH PHASE: sed stream editor...'",
      "AGENT: '[Searching] \"sed tutorial substitute find replace in-place editing\"'",
      "AGENT: '[Found] sed s/old/new/ for substitution.'",
      "AGENT: '[Found] -i flag for in-place file editing.'",
      "AGENT: '[Found] Addresses (line numbers, patterns) select which lines.'",
      "AGENT: '[Found] d deletes, a appends, i inserts, c changes lines.'",
      "AGENT: '✓ Research complete! Let's master sed.'",
      "AGENT: ''",
      "AGENT: '--- Approach 1: Basic Substitution ---'",
      "Create tool: `cat > sample.txt << 'EOF'`",
      "Hello World\nHello Universe\nGoodbye World\nHello Galaxy\nEOF",
      "AGENT: ''",
      "Run command: `sed 's/Hello/Hi/' sample.txt`",
      "AGENT: 'Hi World'",
      "AGENT: 'Hi Universe'",
      "AGENT: 'Goodbye World'",
      "AGENT: 'Hi Galaxy'",
      "AGENT: 's/old/new/ replaces first occurrence per line'",
      "AGENT: ''",
      "Run command: `sed 's/Hello/Hi/g' sample.txt`",
      "AGENT: '  g = Global (all occurrences on line)'",
      "AGENT: ''",
      "Run command: `sed 's/hello/hi/i' sample.txt`",
      "AGENT: '  i = Case-insensitive'",
      "AGENT: ''",
      "Run command: `sed 's/Hello/Hi/2' sample.txt`",
      "AGENT: '  2 = Replace only 2nd occurrence'",
      "AGENT: ''",
      "AGENT: '--- Approach 2: In-Place Editing ---'",
      "Run command: `sed -i 's/Hello/Hi/g' sample.txt`",
      "AGENT: '  -i = Edit file in-place'",
      "AGENT: 'File is modified directly!'",
      "AGENT: ''",
      "Run command: `cat sample.txt`",
      "AGENT: 'Hi World'",
      "AGENT: 'Hi Universe'",
      "AGENT: '...'",
      "AGENT: 'Changes saved to file'",
      "AGENT: ''",
      "AGENT: 'Create backup before editing:'",
      "Run command: `sed -i.bak 's/old/new/g' file.txt`",
      "AGENT: '  -i.bak = Creates file.txt.bak backup'",
      "AGENT: ''",
      "AGENT: 'Restore original:'",
      "Create tool: `cat > sample.txt << 'EOF'`",
      "Hello World\nHello Universe\nGoodbye World\nHello Galaxy\nEOF",
      "AGENT: ''",
      "AGENT: '--- Approach 3: Line Addressing ---'",
      "Run command: `sed '2s/Hello/Hi/' sample.txt`",
      "AGENT: 'Hello World'",
      "AGENT: 'Hi Universe'",
      "AGENT: 'Goodbye World'",
      "AGENT: 'Hello Galaxy'",
      "AGENT: 'Only line 2 is modified'",
      "AGENT: ''",
      "Run command: `sed '1,3s/Hello/Hi/' sample.txt`",
      "AGENT: '  1,3 = Lines 1 to 3'",
      "AGENT: 'Hi World'",
      "AGENT: 'Hi Universe'",
      "AGENT: 'Goodbye World'",
      "AGENT: 'Hello Galaxy  ← Line 4 unchanged'",
      "AGENT: ''",
      "Run command: `sed '/World/s/Hello/Hi/' sample.txt`",
      "AGENT: 'Hi World'",
      "AGENT: 'Hello Universe  ← No \"World\", unchanged'",
      "AGENT: 'Goodbye World'",
      "AGENT: 'Hello Galaxy'",
      "AGENT: 'Only lines containing \"World\" are processed'",
      "AGENT: ''",
      "AGENT: '--- Approach 4: Delete Lines ---'",
      "Run command: `sed '2d' sample.txt`",
      "AGENT: 'Hello World'",
      "AGENT: 'Goodbye World'",
      "AGENT: 'Hello Galaxy'",
      "AGENT: '  d = Delete line 2'",
      "AGENT: ''",
      "Run command: `sed '1,3d' sample.txt`",
      "AGENT: 'Hello Galaxy'",
      "AGENT: 'Delete lines 1-3'",
      "AGENT: ''",
      "Run command: `sed '/Hello/d' sample.txt`",
      "AGENT: 'Goodbye World'",
      "AGENT: 'Delete lines containing \"Hello\"'",
      "AGENT: ''",
      "Run command: `sed '/^$/d' sample.txt`",
      "AGENT: 'Delete empty lines'",
      "AGENT: '  ^$ = Start and end with nothing (empty)'",
      "AGENT: ''",
      "Run command: `sed '/^#/d' config.txt`",
      "AGENT: 'Delete comment lines (starting with #)'",
      "AGENT: ''",
      "AGENT: '--- Approach 5: Insert and Append ---'",
      "Run command: `sed '2i\\New line before line 2' sample.txt`",
      "AGENT: 'Hello World'",
      "AGENT: 'New line before line 2'",
      "AGENT: 'Hello Universe'",
      "AGENT: '...'",
      "AGENT: '  i = Insert before'",
      "AGENT: ''",
      "Run command: `sed '2a\\New line after line 2' sample.txt`",
      "AGENT: 'Hello World'",
      "AGENT: 'Hello Universe'",
      "AGENT: 'New line after line 2'",
      "AGENT: 'Goodbye World'",
      "AGENT: '...'",
      "AGENT: '  a = Append after'",
      "AGENT: ''",
      "Run command: `sed '/Hello/a\\--- Added line ---' sample.txt`",
      "AGENT: 'Hello World'",
      "AGENT: '--- Added line ---'",
      "AGENT: 'Hello Universe'",
      "AGENT: '--- Added line ---'",
      "AGENT: '...'",
      "AGENT: 'Appends after each matching line'",
      "AGENT: ''",
      "AGENT: '--- Approach 6: Change Lines ---'",
      "Run command: `sed '2c\\This replaces line 2' sample.txt`",
      "AGENT: 'Hello World'",
      "AGENT: 'This replaces line 2'",
      "AGENT: 'Goodbye World'",
      "AGENT: 'Hello Galaxy'",
      "AGENT: '  c = Change (replace entire line)'",
      "AGENT: ''",
      "Run command: `sed '/Goodbye/c\\See you later' sample.txt`",
      "AGENT: 'Hello World'",
      "AGENT: 'Hello Universe'",
      "AGENT: 'See you later'",
      "AGENT: 'Hello Galaxy'",
      "AGENT: ''",
      "AGENT: '--- Approach 7: Multiple Commands ---'",
      "Run command: `sed 's/Hello/Hi/g; s/World/Earth/g' sample.txt`",
      "AGENT: 'Hi Earth'",
      "AGENT: 'Hi Universe'",
      "AGENT: '...'",
      "AGENT: 'Multiple substitutions separated by ;'",
      "AGENT: ''",
      "Run command: `sed -e 's/Hello/Hi/g' -e 's/World/Earth/g' sample.txt`",
      "AGENT: '  -e = Expression (can have multiple)'",
      "AGENT: ''",
      "AGENT: '--- Approach 8: Regex Patterns ---'",
      "Create tool: `cat > data.txt << 'EOF'`",
      "user@example.com\nadmin@test.org\ncontact@company.co.uk\nEOF",
      "AGENT: ''",
      "Run command: `sed 's/@.*//' data.txt`",
      "AGENT: 'user'",
      "AGENT: 'admin'",
      "AGENT: 'contact'",
      "AGENT: 'Removes @ and everything after'",
      "AGENT: ''",
      "Run command: `sed 's/.*@//' data.txt`",
      "AGENT: 'example.com'",
      "AGENT: 'test.org'",
      "AGENT: 'company.co.uk'",
      "AGENT: 'Removes everything before @'",
      "AGENT: ''",
      "Run command: `sed 's/\\([^@]*\\)@\\(.*\\)/\\2 - \\1/' data.txt`",
      "AGENT: 'example.com - user'",
      "AGENT: 'test.org - admin'",
      "AGENT: 'company.co.uk - contact'",
      "AGENT: '  \\( \\) = Capture groups'",
      "AGENT: '  \\1 \\2 = References to groups'",
      "AGENT: ''",
      "AGENT: '--- Approach 9: Practical Examples ---'",
      "AGENT: ''",
      "AGENT: 'Remove trailing whitespace:'",
      "Run command: `sed 's/[ \\t]*$//' file.txt`",
      "AGENT: ''",
      "AGENT: 'Remove leading whitespace:'",
      "Run command: `sed 's/^[ \\t]*//' file.txt`",
      "AGENT: ''",
      "AGENT: 'Remove both (trim):'",
      "Run command: `sed 's/^[ \\t]*//; s/[ \\t]*$//' file.txt`",
      "AGENT: ''",
      "AGENT: 'Replace tabs with spaces:'",
      "Run command: `sed 's/\\t/    /g' file.txt`",
      "AGENT: ''",
      "AGENT: 'Add line numbers:'",
      "Run command: `sed = file.txt | sed 'N; s/\\n/\\t/'`",
      "AGENT: ''",
      "AGENT: 'Double-space a file:'",
      "Run command: `sed G file.txt`",
      "AGENT: ''",
      "AGENT: 'Remove duplicate consecutive lines:'",
      "Run command: `sed '$!N; /^\\(.*\\)\\n\\1$/!P; D' file.txt`",
      "AGENT: ''",
      "AGENT: 'Print specific lines:'",
      "Run command: `sed -n '5,10p' file.txt`",
      "AGENT: '  -n = Suppress default output'",
      "AGENT: '  p = Print'",
      "AGENT: 'Prints only lines 5-10'",
      "AGENT: ''",
      "AGENT: '--- Approach 10: Configuration File Editing ---'",
      "Create tool: `cat > config.conf << 'EOF'`",
      "# Configuration file\nport=8080\nhost=localhost\ndebug=false\n# End of config\nEOF",
      "AGENT: ''",
      "AGENT: 'Change port value:'",
      "Run command: `sed -i 's/port=.*/port=9000/' config.conf`",
      "Run command: `cat config.conf`",
      "AGENT: 'port=9000'",
      "AGENT: ''",
      "AGENT: 'Change host:'",
      "Run command: `sed -i 's/host=.*/host=0.0.0.0/' config.conf`",
      "AGENT: ''",
      "AGENT: 'Enable debug:'",
      "Run command: `sed -i 's/debug=false/debug=true/' config.conf`",
      "AGENT: ''",
      "AGENT: 'Add new setting after specific line:'",
      "Run command: `sed -i '/port=/a\\timeout=30' config.conf`",
      "AGENT: ''",
      "AGENT: 'Remove comments:'",
      "Run command: `sed 's/#.*//' config.conf | sed '/^$/d'`",
      "AGENT: ''",
      "AGENT: '--- Bonus: sed Script File ---'",
      "Create tool: `cat > transform.sed << 'EOF'`",
      "# sed script file\n# Remove comments\ns/#.*//\n\n# Trim whitespace\ns/^[ \\t]*//\ns/[ \\t]*$//\n\n# Convert to uppercase (for specific patterns)\n/^[A-Z]/s/.*/\\U&/\n\n# Delete empty lines\n/^$/d\nEOF",
      "AGENT: ''",
      "Run command: `sed -f transform.sed input.txt`",
      "AGENT: 'Applies all transformations from script file'",
      "AGENT: ''",
      "AGENT: '--- Bonus: Real-World Use Cases ---'",
      "AGENT: ''",
      "AGENT: '1. Update version in files:'",
      "Run command: `sed -i 's/version = \"1.0.0\"/version = \"1.0.1\"/' package.json`",
      "AGENT: ''",
      "AGENT: '2. Change database connection:'",
      "Run command: `sed -i 's/localhost:3306/db.prod.com:3306/g' app.config`",
      "AGENT: ''",
      "AGENT: '3. Add header to file:'",
      "Run command: `sed -i '1i\\# Auto-generated file' output.txt`",
      "AGENT: ''",
      "AGENT: '4. Extract URLs from HTML:'",
      "Run command: `sed -n 's/.*href=\"\\([^\"]*\\)\".*/\\1/p' index.html`",
      "AGENT: ''",
      "AGENT: '5. Convert DOS to Unix line endings:'",
      "Run command: `sed -i 's/\\r$//' dosfile.txt`",
      "AGENT: ''",
      "AGENT: '6. Batch rename in file paths:'",
      "Run command: `find . -name '*.txt' -exec sed -i 's/old_path/new_path/g' {} +`",
      "AGENT: ''",
      "AGENT: '7. Mask sensitive data in logs:'",
      "Run command: `sed 's/password=[^&]*/password=***REDACTED***/g' app.log`",
      "AGENT: ''",
      "AGENT: '8. Format JSON (simple):'",
      "Run command: `sed 's/,/,\\n/g; s/{/\\n{\\n/g; s/}/\\n}\\n/g' data.json`",
      "AGENT: ''",
      "AGENT: '--- Bonus: sed vs awk vs grep ---'",
      "AGENT: ''",
      "AGENT: 'Use sed when:'",
      "AGENT: '  ✓ Text substitution (find/replace)'",
      "AGENT: '  ✓ In-place file editing'",
      "AGENT: '  ✓ Line-based transformations'",
      "AGENT: '  ✓ Simple text processing'",
      "AGENT: ''",
      "AGENT: 'Use awk when:'",
      "AGENT: '  ✓ Column/field processing'",
      "AGENT: '  ✓ Calculations and aggregations'",
      "AGENT: '  ✓ Complex conditions'",
      "AGENT: '  ✓ CSV/TSV data'",
      "AGENT: ''",
      "AGENT: 'Use grep when:'",
      "AGENT: '  ✓ Simple pattern searching'",
      "AGENT: '  ✓ Finding lines with text'",
      "AGENT: '  ✓ Filtering output'",
      "AGENT: ''",
      "AGENT: '--- Bonus: sed Quick Reference ---'",
      "AGENT: ''",
      "AGENT: 'Substitution:'",
      "AGENT: '  sed \\'s/old/new/\\'           First occurrence'",
      "AGENT: '  sed \\'s/old/new/g\\'          All occurrences'",
      "AGENT: '  sed \\'s/old/new/i\\'          Case-insensitive'",
      "AGENT: '  sed \\'s/old/new/2\\'          Only 2nd occurrence'",
      "AGENT: ''",
      "AGENT: 'In-place editing:'",
      "AGENT: '  sed -i \\'s/old/new/g\\' file   Edit file'",
      "AGENT: '  sed -i.bak \\'s/old/new/g\\'   With backup'",
      "AGENT: ''",
      "AGENT: 'Line selection:'",
      "AGENT: '  sed \\'2s/old/new/\\'          Line 2 only'",
      "AGENT: '  sed \\'1,5s/old/new/\\'        Lines 1-5'",
      "AGENT: '  sed \\'/pattern/s/old/new/\\'  Matching lines'",
      "AGENT: ''",
      "AGENT: 'Delete:'",
      "AGENT: '  sed \\'2d\\'                   Delete line 2'",
      "AGENT: '  sed \\'/pattern/d\\'           Delete matching'",
      "AGENT: '  sed \\'/^$/d\\'                Delete empty lines'",
      "AGENT: ''",
      "AGENT: 'Insert/Append:'",
      "AGENT: '  sed \\'2i\\\\text\\'             Insert before line 2'",
      "AGENT: '  sed \\'2a\\\\text\\'             Append after line 2'",
      "AGENT: '  sed \\'2c\\\\text\\'             Change line 2'",
      "AGENT: ''",
      "AGENT: 'Print:'",
      "AGENT: '  sed -n \\'5,10p\\'             Print lines 5-10'",
      "AGENT: '  sed -n \\'/pattern/p\\'        Print matching lines'",
      "AGENT: ''",
      "AGENT: '--- Bonus: Common sed Patterns ---'",
      "AGENT: ''",
      "AGENT: 'Remove comments:'",
      "AGENT: '  sed \\'s/#.*//\\''",
      "AGENT: ''",
      "AGENT: 'Trim whitespace:'",
      "AGENT: '  sed \\'s/^[ \\\\t]*//; s/[ \\\\t]*$//\\''",
      "AGENT: ''",
      "AGENT: 'Remove HTML tags:'",
      "AGENT: '  sed \\'s/<[^>]*>//g\\''",
      "AGENT: ''",
      "AGENT: 'Extract domain from URL:'",
      "AGENT: '  sed \\'s|https\\?://\\([^/]*\\).*|\\\\1|\\''",
      "AGENT: ''",
      "AGENT: 'Add quotes around fields:'",
      "AGENT: '  sed \\'s/\\([^,]*\\)/\"\\\\1\"/g\\''",
      "AGENT: ''",
      "AGENT: '✓ SOLUTION SUMMARY:'",
      "AGENT: '  ✓ Used s/old/new/ for text substitution.'",
      "AGENT: '  ✓ Edited files in-place with -i flag.'",
      "AGENT: '  ✓ Selected specific lines with addresses.'",
      "AGENT: '  ✓ Deleted lines with d command.'",
      "AGENT: '  ✓ Inserted and appended text with i and a.'",
      "AGENT: '  ✓ Applied multiple transformations with ; or -e.'",
      "AGENT: '  ✓ Used regex patterns with capture groups.'",
      "AGENT: '  ✓ Created sed script files for reusable transformations.'",
      "AGENT: '  ✓ Modified configuration files programmatically.'",
      "AGENT: '  ✓ You now master sed for powerful text transformation! ✏️'"
    ],
    "commands": ["sed", "gsed"],
    "packages": {
      "debian_ubuntu": ["sed"],
      "arch": ["sed"]
    },
    "related_commands": ["awk", "grep", "tr", "cut"],
    "complexity": "intermediate",
    "tags": ["sed", "stream-editor", "text-substitution", "find-replace", "in-place-editing", "regex", "text-transformation"]
  }
]
