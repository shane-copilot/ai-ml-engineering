[
  {
    "id": "scenario_tmux_screen_multiplexer_113",
    "command": "tmux",
    "scenario": "Use tmux for persistent terminal sessions and efficient multi-window workflow.",
    "problem": "SSH connection drops kill running processes. Developer needs to run long-running tasks remotely, switch between multiple terminal windows efficiently, and maintain persistent sessions.",
    "solution": "Master tmux: create/detach/reattach sessions, split windows into panes, navigate efficiently, customize configuration, and use for remote server management.",
    "steps": [
      "USER SAYS: 'When my SSH connection drops, it kills my running script. How can I keep processes running even when I disconnect?'",
      "AGENT: 'Tmux is perfect for this! It creates persistent terminal sessions that keep running even when you disconnect. Plus it has powerful window/pane management.'",
      "AGENT: ''",
      "AGENT: '🔍 RESEARCH PHASE: Tmux terminal multiplexer...'",
      "AGENT: '[Searching] \"tmux tutorial sessions windows panes commands\"'",
      "AGENT: '[Found] Tmux creates persistent sessions - processes continue after disconnect.'",
      "AGENT: '[Found] Default prefix key: Ctrl+b, then command key.'",
      "AGENT: '[Found] Sessions contain windows, windows contain panes.'",
      "AGENT: '[Found] Can split windows horizontally/vertically into panes.'",
      "AGENT: '✓ Research complete! Let's master tmux.'",
      "AGENT: ''",
      "AGENT: '--- Approach 1: Install Tmux ---'",
      "Run command: `sudo apt-get install -y tmux`",
      "AGENT: ''",
      "AGENT: '--- Approach 2: Start New Session ---'",
      "Run command: `tmux`",
      "AGENT: 'Creates new session and attaches to it'",
      "AGENT: ''",
      "AGENT: 'Or start with a name:'",
      "Run command: `tmux new -s myproject`",
      "AGENT: 'Creates session named \"myproject\"'",
      "AGENT: ''",
      "AGENT: '--- Approach 3: Basic Session Commands ---'",
      "AGENT: 'Inside tmux, press Ctrl+b, then:'",
      "AGENT: '  d     = Detach from session (session keeps running)'",
      "AGENT: '  :     = Command prompt'",
      "AGENT: '  ?     = Show all keybindings'",
      "AGENT: ''",
      "AGENT: 'Start a long-running process:'",
      "Run command: `python3 -c 'import time; [print(f\"Running... {i}\") or time.sleep(10) for i in range(100)]'`",
      "AGENT: 'Running... 0'",
      "AGENT: 'Running... 1'",
      "AGENT: ''",
      "AGENT: 'Detach: Press Ctrl+b, then d'",
      "AGENT: '[detached (from session myproject)]'",
      "AGENT: ''",
      "AGENT: '✅ Session continues running in background!'",
      "AGENT: ''",
      "AGENT: '--- Approach 4: List and Reattach to Sessions ---'",
      "Run command: `tmux ls`",
      "AGENT: 'myproject: 1 windows (created Mon Oct  8 15:00:00 2025)'",
      "AGENT: 'server-tasks: 3 windows (created Mon Oct  8 14:00:00 2025)'",
      "AGENT: ''",
      "Run command: `tmux attach -t myproject`",
      "AGENT: 'Reattaches to \"myproject\" session'",
      "AGENT: ''",
      "AGENT: 'Or use shorthand:'",
      "Run command: `tmux a -t myproject`",
      "AGENT: ''",
      "AGENT: 'Your process is still running!'",
      "AGENT: 'Running... 15'",
      "AGENT: 'Running... 16'",
      "AGENT: ''",
      "AGENT: '--- Approach 5: Window Management ---'",
      "AGENT: 'While in tmux, press Ctrl+b, then:'",
      "AGENT: '  c     = Create new window'",
      "AGENT: '  n     = Next window'",
      "AGENT: '  p     = Previous window'",
      "AGENT: '  0-9   = Switch to window number'",
      "AGENT: '  ,     = Rename current window'",
      "AGENT: '  &     = Kill current window (with confirmation)'",
      "AGENT: '  w     = List all windows'",
      "AGENT: ''",
      "AGENT: 'Create new window: Ctrl+b c'",
      "AGENT: 'Rename it: Ctrl+b , then type \"logs\" and Enter'",
      "AGENT: ''",
      "AGENT: 'Status bar shows:'",
      "AGENT: '[myproject] 0:bash 1:logs* 2:monitoring'",
      "AGENT: '                          ↑ current window'",
      "AGENT: ''",
      "AGENT: '--- Approach 6: Pane Management (Split Windows) ---'",
      "AGENT: 'Split horizontally: Ctrl+b \"'",
      "AGENT: 'Split vertically: Ctrl+b %'",
      "AGENT: ''",
      "AGENT: 'Navigate panes:'",
      "AGENT: '  Ctrl+b ←↑→↓  = Move to pane in direction'",
      "AGENT: '  Ctrl+b o     = Cycle through panes'",
      "AGENT: '  Ctrl+b q     = Show pane numbers (press number to jump)'",
      "AGENT: '  Ctrl+b x     = Kill current pane'",
      "AGENT: '  Ctrl+b z     = Zoom/unzoom current pane (fullscreen toggle)'",
      "AGENT: ''",
      "AGENT: 'Resize panes:'",
      "AGENT: '  Ctrl+b :resize-pane -D 5  = Resize down 5 lines'",
      "AGENT: '  Ctrl+b :resize-pane -U 5  = Resize up'",
      "AGENT: '  Ctrl+b :resize-pane -L 5  = Resize left'",
      "AGENT: '  Ctrl+b :resize-pane -R 5  = Resize right'",
      "AGENT: ''",
      "AGENT: 'Example layout:'",
      "AGENT: '┌────────────────────────────┐'",
      "AGENT: '│  Pane 1: Application logs  │'",
      "AGENT: '├──────────────┬─────────────┤'",
      "AGENT: '│ Pane 2: htop │ Pane 3: ssh │'",
      "AGENT: '└──────────────┴─────────────┘'",
      "AGENT: ''",
      "AGENT: '--- Approach 7: Copy Mode (Scroll and Copy) ---'",
      "AGENT: 'Enter copy mode: Ctrl+b ['",
      "AGENT: '  Use arrow keys or vim keys (j/k) to scroll'",
      "AGENT: '  Space to start selection'",
      "AGENT: '  Enter to copy selection'",
      "AGENT: '  Ctrl+b ] to paste'",
      "AGENT: '  q to exit copy mode'",
      "AGENT: ''",
      "AGENT: '--- Approach 8: Create Tmux Configuration ---'",
      "Create tool: `cat > ~/.tmux.conf << 'EOF'`",
      "# Change prefix from Ctrl+b to Ctrl+a (easier to reach)\nunbind C-b\nset-option -g prefix C-a\nbind-key C-a send-prefix\n\n# Split panes using | and -\nbind | split-window -h\nbind - split-window -v\nunbind '\"'\nunbind %\n\n# Reload config\nbind r source-file ~/.tmux.conf \\; display \"Config reloaded!\"\n\n# Enable mouse mode\nset -g mouse on\n\n# Start window numbering at 1\nset -g base-index 1\nsetw -g pane-base-index 1\n\n# Increase scrollback buffer\nset-option -g history-limit 10000\n\n# Status bar customization\nset -g status-style bg=colour234,fg=colour137\nset -g status-left '[#S] '\nset -g status-right '%Y-%m-%d %H:%M'\nset -g status-right-length 50\nset -g status-left-length 20\n\n# Highlight active window\nsetw -g window-status-current-style fg=colour81,bg=colour238,bold\n\n# Pane borders\nset -g pane-border-style fg=colour238\nset -g pane-active-border-style fg=colour81\n\n# Vi mode for copy\nsetw -g mode-keys vi\nEOF",
      "AGENT: ''",
      "AGENT: 'Load config:'",
      "Run command: `tmux source-file ~/.tmux.conf`",
      "AGENT: 'Config reloaded!'",
      "AGENT: ''",
      "AGENT: '✅ Now you can:'",
      "AGENT: '  - Use Ctrl+a instead of Ctrl+b'",
      "AGENT: '  - Split with | and -'",
      "AGENT: '  - Use mouse to click panes and resize'",
      "AGENT: ''",
      "AGENT: '--- Approach 9: Common Workflow Examples ---'",
      "AGENT: ''",
      "AGENT: 'Example 1: Development setup'",
      "Run command: `tmux new -s dev`",
      "AGENT: '  Window 0: Code editor (vim/emacs)'",
      "AGENT: '  Window 1: Split into:'",
      "AGENT: '    Pane 1: Application running'",
      "AGENT: '    Pane 2: Logs (tail -f)'",
      "AGENT: '    Pane 3: Git status/commands'",
      "AGENT: '  Window 2: Database client'",
      "AGENT: ''",
      "AGENT: 'Example 2: Server monitoring'",
      "Run command: `tmux new -s monitor`",
      "AGENT: '  Split into 4 panes:'",
      "AGENT: '    Top-left: htop (CPU/memory)'",
      "AGENT: '    Top-right: iotop (disk I/O)'",
      "AGENT: '    Bottom-left: tail -f /var/log/syslog'",
      "AGENT: '    Bottom-right: watch -n 1 \\'df -h\\''",
      "AGENT: ''",
      "AGENT: '--- Approach 10: Advanced Commands ---'",
      "AGENT: ''",
      "AGENT: 'Kill session:'",
      "Run command: `tmux kill-session -t myproject`",
      "AGENT: ''",
      "AGENT: 'Kill all sessions except current:'",
      "Run command: `tmux kill-session -a`",
      "AGENT: ''",
      "AGENT: 'Rename session:'",
      "Run command: `tmux rename-session -t old-name new-name`",
      "AGENT: ''",
      "AGENT: 'Create scripted layout:'",
      "Create tool: `cat > setup-dev-env.sh << 'EOF'`",
      "#!/bin/bash\ntmux new-session -d -s dev\ntmux rename-window -t dev:0 'editor'\ntmux send-keys -t dev:0 'cd ~/project && vim' C-m\n\ntmux new-window -t dev:1 -n 'server'\ntmux split-window -h -t dev:1\ntmux send-keys -t dev:1.0 'cd ~/project && npm run dev' C-m\ntmux send-keys -t dev:1.1 'cd ~/project && tail -f logs/app.log' C-m\n\ntmux new-window -t dev:2 -n 'database'\ntmux send-keys -t dev:2 'psql myapp' C-m\n\ntmux attach-session -t dev\nEOF",
      "Run command: `chmod +x setup-dev-env.sh && ./setup-dev-env.sh`",
      "AGENT: ''",
      "AGENT: '✅ Instantly sets up complete development environment!'",
      "AGENT: ''",
      "AGENT: '--- Bonus: Tmux vs Screen ---'",
      "AGENT: 'Tmux advantages:'",
      "AGENT: '  ✓ Active development (screen is outdated)'",
      "AGENT: '  ✓ Better pane management'",
      "AGENT: '  ✓ Easier configuration'",
      "AGENT: '  ✓ Client-server model'",
      "AGENT: '  ✓ Better scripting support'",
      "AGENT: ''",
      "AGENT: '✓ SOLUTION SUMMARY:'",
      "AGENT: '  ✓ Created persistent sessions that survive disconnects.'",
      "AGENT: '  ✓ Mastered session management: create, detach, reattach, list.'",
      "AGENT: '  ✓ Used multiple windows for organizing different tasks.'",
      "AGENT: '  ✓ Split windows into panes for side-by-side viewing.'",
      "AGENT: '  ✓ Customized tmux with configuration file.'",
      "AGENT: '  ✓ Enabled mouse mode for easier navigation.'",
      "AGENT: '  ✓ Created scripted environment setup for instant workflow.'",
      "AGENT: '  ✓ You now have professional terminal workflow! 🖥️'"
    ],
    "commands": ["tmux", "cat", "chmod", "tail", "watch"],
    "packages": {
      "debian_ubuntu": ["tmux"],
      "arch": ["tmux"]
    },
    "related_commands": ["screen", "byobu"],
    "complexity": "intermediate",
    "tags": ["tmux", "terminal", "multiplexer", "sessions", "remote", "productivity", "workflow"]
  }
]
